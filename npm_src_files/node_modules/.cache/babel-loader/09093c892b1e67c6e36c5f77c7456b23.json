{"ast":null,"code":"/* eslint-disable new-cap */import html2canvas from'html2canvas';import*as jsPDF from'jspdf';var move=function move(array,element,delta){var index=array.findIndex(function(item){return item.id===element.id;});var newIndex=index+delta;if(newIndex<0||newIndex===array.length)return;var indexes=[index,newIndex].sort(function(a,b){return a-b;});array.splice(indexes[0],2,array[indexes[1]],array[indexes[0]]);};var hexToRgb=function hexToRgb(hex){var shorthandRegex=/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;hex=hex.replace(shorthandRegex,function(m,r,g,b){return r+r+g+g+b+b;});var result=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);return result?{r:parseInt(result[1],16),g:parseInt(result[2],16),b:parseInt(result[3],16)}:null;};var copyToClipboard=function copyToClipboard(text){var textArea=document.createElement('textarea');textArea.style.position='fixed';textArea.style.top=0;textArea.style.left=0;textArea.style.width='2em';textArea.style.height='2em';textArea.style.padding=0;textArea.style.border='none';textArea.style.outline='none';textArea.style.boxShadow='none';textArea.style.background='transparent';textArea.value=text;document.body.appendChild(textArea);textArea.focus();textArea.select();var successful=document.execCommand('copy');document.body.removeChild(textArea);return successful;};var saveData=function saveData(dispatch){return dispatch({type:'save_data'});};var addItem=function addItem(dispatch,key,value){dispatch({type:'add_item',payload:{key:key,value:value}});saveData(dispatch);};var deleteItem=function deleteItem(dispatch,key,value){dispatch({type:'delete_item',payload:{key:key,value:value}});saveData(dispatch);};var moveItemUp=function moveItemUp(dispatch,key,value){dispatch({type:'move_item_up',payload:{key:key,value:value}});saveData(dispatch);};var moveItemDown=function moveItemDown(dispatch,key,value){dispatch({type:'move_item_down',payload:{key:key,value:value}});saveData(dispatch);};var importJson=function importJson(event,dispatch){var fr=new FileReader();fr.addEventListener('load',function(){var importedObject=JSON.parse(fr.result);dispatch({type:'import_data',payload:importedObject});dispatch({type:'save_data'});});fr.readAsText(event.target.files[0]);};var saveAsPdfTimer=null;var saveAsPdf=function saveAsPdf(pageRef,panZoomRef,quality,type){if(saveAsPdfTimer){return;}return new Promise(function(resolve){panZoomRef.current.autoCenter(1);panZoomRef.current.reset();saveAsPdfTimer=setTimeout(function(){html2canvas(pageRef.current,{scale:5,useCORS:true,allowTaint:true}).then(function(canvas){var image=canvas.toDataURL('image/jpeg',quality/100);var doc=new jsPDF({orientation:'portrait',unit:'px',format:type==='unconstrained'?[canvas.width,canvas.height]:'a4'});var pageWidth=doc.internal.pageSize.getWidth();var pageHeight=doc.internal.pageSize.getHeight();var widthRatio=pageWidth/canvas.width;var heightRatio=pageHeight/canvas.height;var ratio=widthRatio>heightRatio?heightRatio:widthRatio;var canvasWidth=canvas.width*ratio;var canvasHeight=canvas.height*ratio;var marginX=0;var marginY=0;if(type!=='unconstrained'){marginX=(pageWidth-canvasWidth)/2;marginY=(pageHeight-canvasHeight)/2;}doc.addImage(image,'JPEG',marginX,marginY,canvasWidth,canvasHeight,null,'SLOW');doc.save(\"RxResume_\".concat(Date.now(),\".pdf\"));saveAsPdfTimer=null;resolve();});},250);});};var saveAsMultiPagePdfTimer=null;var saveAsMultiPagePdf=function saveAsMultiPagePdf(pageRef,panZoomRef,quality){if(saveAsMultiPagePdfTimer){return;}return new Promise(function(resolve){panZoomRef.current.autoCenter(1);panZoomRef.current.reset();saveAsMultiPagePdfTimer=setTimeout(function(){html2canvas(pageRef.current,{scale:5,useCORS:true,allowTaint:true}).then(function(canvas){var image=canvas.toDataURL('image/jpeg',quality/100);var doc=new jsPDF({orientation:'portrait',unit:'px',format:'a4'});var pageHeight=doc.internal.pageSize.getHeight();var canvasWidth=doc.internal.pageSize.getWidth();var canvasHeight=canvas.height*canvasWidth/canvas.width;var marginTop=0;var heightLeft=canvasHeight;doc.addImage(image,'JPEG',0,marginTop,canvasWidth,canvasHeight);heightLeft-=pageHeight;while(heightLeft>=0){marginTop=heightLeft-canvasHeight;doc.addPage();doc.addImage(image,'JPEG',0,marginTop,canvasWidth,canvasHeight);heightLeft-=pageHeight;}doc.save(\"RxResume_\".concat(Date.now(),\".pdf\"));saveAsMultiPagePdfTimer=null;resolve();});},250);});};export{move,hexToRgb,copyToClipboard,saveData,addItem,deleteItem,moveItemUp,moveItemDown,importJson,saveAsPdf,saveAsMultiPagePdf};","map":{"version":3,"sources":["D:/github/jsonldresume/resume/src/utils/index.js"],"names":["html2canvas","jsPDF","move","array","element","delta","index","findIndex","item","id","newIndex","length","indexes","sort","a","b","splice","hexToRgb","hex","shorthandRegex","replace","m","r","g","result","exec","parseInt","copyToClipboard","text","textArea","document","createElement","style","position","top","left","width","height","padding","border","outline","boxShadow","background","value","body","appendChild","focus","select","successful","execCommand","removeChild","saveData","dispatch","type","addItem","key","payload","deleteItem","moveItemUp","moveItemDown","importJson","event","fr","FileReader","addEventListener","importedObject","JSON","parse","readAsText","target","files","saveAsPdfTimer","saveAsPdf","pageRef","panZoomRef","quality","Promise","resolve","current","autoCenter","reset","setTimeout","scale","useCORS","allowTaint","then","canvas","image","toDataURL","doc","orientation","unit","format","pageWidth","internal","pageSize","getWidth","pageHeight","getHeight","widthRatio","heightRatio","ratio","canvasWidth","canvasHeight","marginX","marginY","addImage","save","Date","now","saveAsMultiPagePdfTimer","saveAsMultiPagePdf","marginTop","heightLeft","addPage"],"mappings":"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","sourcesContent":["/* eslint-disable new-cap */\r\nimport html2canvas from 'html2canvas';\r\nimport * as jsPDF from 'jspdf';\r\n\r\nconst move = (array, element, delta) => {\r\n  const index = array.findIndex(item => item.id === element.id);\r\n  const newIndex = index + delta;\r\n  if (newIndex < 0 || newIndex === array.length) return;\r\n  const indexes = [index, newIndex].sort((a, b) => a - b);\r\n  array.splice(indexes[0], 2, array[indexes[1]], array[indexes[0]]);\r\n};\r\n\r\nconst hexToRgb = hex => {\r\n  const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n  hex = hex.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b);\r\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n  return result\r\n    ? {\r\n        r: parseInt(result[1], 16),\r\n        g: parseInt(result[2], 16),\r\n        b: parseInt(result[3], 16),\r\n      }\r\n    : null;\r\n};\r\n\r\nconst copyToClipboard = text => {\r\n  const textArea = document.createElement('textarea');\r\n  textArea.style.position = 'fixed';\r\n  textArea.style.top = 0;\r\n  textArea.style.left = 0;\r\n  textArea.style.width = '2em';\r\n  textArea.style.height = '2em';\r\n  textArea.style.padding = 0;\r\n  textArea.style.border = 'none';\r\n  textArea.style.outline = 'none';\r\n  textArea.style.boxShadow = 'none';\r\n  textArea.style.background = 'transparent';\r\n  textArea.value = text;\r\n  document.body.appendChild(textArea);\r\n  textArea.focus();\r\n  textArea.select();\r\n  const successful = document.execCommand('copy');\r\n  document.body.removeChild(textArea);\r\n  return successful;\r\n};\r\n\r\nconst saveData = dispatch => dispatch({ type: 'save_data' });\r\n\r\nconst addItem = (dispatch, key, value) => {\r\n  dispatch({\r\n    type: 'add_item',\r\n    payload: {\r\n      key,\r\n      value,\r\n    },\r\n  });\r\n\r\n  saveData(dispatch);\r\n};\r\n\r\nconst deleteItem = (dispatch, key, value) => {\r\n  dispatch({\r\n    type: 'delete_item',\r\n    payload: {\r\n      key,\r\n      value,\r\n    },\r\n  });\r\n\r\n  saveData(dispatch);\r\n};\r\n\r\nconst moveItemUp = (dispatch, key, value) => {\r\n  dispatch({\r\n    type: 'move_item_up',\r\n    payload: {\r\n      key,\r\n      value,\r\n    },\r\n  });\r\n\r\n  saveData(dispatch);\r\n};\r\n\r\nconst moveItemDown = (dispatch, key, value) => {\r\n  dispatch({\r\n    type: 'move_item_down',\r\n    payload: {\r\n      key,\r\n      value,\r\n    },\r\n  });\r\n\r\n  saveData(dispatch);\r\n};\r\n\r\nconst importJson = (event, dispatch) => {\r\n  const fr = new FileReader();\r\n  fr.addEventListener('load', () => {\r\n    const importedObject = JSON.parse(fr.result);\r\n    dispatch({ type: 'import_data', payload: importedObject });\r\n    dispatch({ type: 'save_data' });\r\n  });\r\n  fr.readAsText(event.target.files[0]);\r\n};\r\n\r\nlet saveAsPdfTimer = null;\r\nconst saveAsPdf = (pageRef, panZoomRef, quality, type) => {\r\n  if(saveAsPdfTimer){\r\n      return;\r\n  }\r\n  return new Promise(resolve => {\r\n    panZoomRef.current.autoCenter(1);\r\n    panZoomRef.current.reset();\r\n\r\n    saveAsPdfTimer = setTimeout(() => {\r\n      html2canvas(pageRef.current, {\r\n        scale: 5,\r\n        useCORS: true,\r\n        allowTaint: true,\r\n      }).then(canvas => {\r\n        const image = canvas.toDataURL('image/jpeg', quality / 100);\r\n        const doc = new jsPDF({\r\n          orientation: 'portrait',\r\n          unit: 'px',\r\n          format: type === 'unconstrained' ? [canvas.width, canvas.height] : 'a4',\r\n        });\r\n\r\n        const pageWidth = doc.internal.pageSize.getWidth();\r\n        const pageHeight = doc.internal.pageSize.getHeight();\r\n\r\n        const widthRatio = pageWidth / canvas.width;\r\n        const heightRatio = pageHeight / canvas.height;\r\n        const ratio = widthRatio > heightRatio ? heightRatio : widthRatio;\r\n\r\n        const canvasWidth = canvas.width * ratio;\r\n        const canvasHeight = canvas.height * ratio;\r\n\r\n        let marginX = 0;\r\n        let marginY = 0;\r\n\r\n        if (type !== 'unconstrained') {\r\n          marginX = (pageWidth - canvasWidth) / 2;\r\n          marginY = (pageHeight - canvasHeight) / 2;\r\n        }\r\n\r\n        doc.addImage(image, 'JPEG', marginX, marginY, canvasWidth, canvasHeight, null, 'SLOW');\r\n        doc.save(`RxResume_${Date.now()}.pdf`);\r\n        saveAsPdfTimer = null;\r\n        resolve();\r\n      });\r\n    }, 250);\r\n  });\r\n}\r\n  \r\nlet saveAsMultiPagePdfTimer = null;\r\nconst saveAsMultiPagePdf = (pageRef, panZoomRef, quality) => {\r\n  if(saveAsMultiPagePdfTimer){\r\n      return;\r\n  }\r\n  return new Promise(resolve => {\r\n    panZoomRef.current.autoCenter(1);\r\n    panZoomRef.current.reset();\r\n\r\n    saveAsMultiPagePdfTimer = setTimeout(() => {\r\n      html2canvas(pageRef.current, {\r\n        scale: 5,\r\n        useCORS: true,\r\n        allowTaint: true,\r\n      }).then(canvas => {\r\n        const image = canvas.toDataURL('image/jpeg', quality / 100);\r\n        const doc = new jsPDF({\r\n          orientation: 'portrait',\r\n          unit: 'px',\r\n          format: 'a4',\r\n        });\r\n\r\n        const pageHeight = doc.internal.pageSize.getHeight();\r\n        const canvasWidth = doc.internal.pageSize.getWidth();\r\n        const canvasHeight = (canvas.height * canvasWidth) / canvas.width;\r\n        let marginTop = 0;\r\n        let heightLeft = canvasHeight;\r\n\r\n        doc.addImage(image, 'JPEG', 0, marginTop, canvasWidth, canvasHeight);\r\n        heightLeft -= pageHeight;\r\n\r\n        while (heightLeft >= 0) {\r\n          marginTop = heightLeft - canvasHeight;\r\n          doc.addPage();\r\n          doc.addImage(image, 'JPEG', 0, marginTop, canvasWidth, canvasHeight);\r\n          heightLeft -= pageHeight;\r\n        }\r\n\r\n        doc.save(`RxResume_${Date.now()}.pdf`);\r\n        saveAsMultiPagePdfTimer = null;\r\n        resolve();\r\n      });\r\n    }, 250);\r\n  });\r\n}\r\n\r\nexport {\r\n  move,\r\n  hexToRgb,\r\n  copyToClipboard,\r\n  saveData,\r\n  addItem,\r\n  deleteItem,\r\n  moveItemUp,\r\n  moveItemDown,\r\n  importJson,\r\n  saveAsPdf,\r\n  saveAsMultiPagePdf,\r\n};\r\n"]},"metadata":{},"sourceType":"module"}