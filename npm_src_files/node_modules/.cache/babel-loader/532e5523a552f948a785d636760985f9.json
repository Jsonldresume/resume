{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n/* eslint-disable no-bitwise -- used for calculations */\n\n/* eslint-disable unicorn/prefer-query-selector -- aiming at\n  backward-compatibility */\n\n/**\n* StackBlur - a fast almost Gaussian Blur For Canvas\n*\n* In case you find this class useful - especially in commercial projects -\n* I am not totally unhappy for a small donation to my PayPal account\n* mario@quasimondo.de\n*\n* Or support me on flattr:\n* {@link https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript}.\n*\n* @module StackBlur\n* @author Mario Klingemann\n* Contact: mario@quasimondo.com\n* Website: {@link http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html}\n* Twitter: @quasimondo\n*\n* @copyright (c) 2010 Mario Klingemann\n*\n* Permission is hereby granted, free of charge, to any person\n* obtaining a copy of this software and associated documentation\n* files (the \"Software\"), to deal in the Software without\n* restriction, including without limitation the rights to use,\n* copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the\n* Software is furnished to do so, subject to the following\n* conditions:\n*\n* The above copyright notice and this permission notice shall be\n* included in all copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n* OTHER DEALINGS IN THE SOFTWARE.\n*/\n\n\nvar mulTable = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259];\nvar shgTable = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24];\n/**\n * @param {string|HTMLImageElement} img\n * @param {string|HTMLCanvasElement} canvas\n * @param {Float} radius\n * @param {boolean} blurAlphaChannel\n * @param {boolean} useOffsetWidth\n * @returns {undefined}\n */\n\nfunction processImage(img, canvas, radius, blurAlphaChannel, useOffsetWidth) {\n  if (typeof img === 'string') {\n    img = document.getElementById(img);\n  }\n\n  if (!img || !('naturalWidth' in img)) {\n    return;\n  }\n\n  var dimensionType = useOffsetWidth ? 'offset' : 'natural';\n  var w = img[dimensionType + 'Width'];\n  var h = img[dimensionType + 'Height'];\n\n  if (typeof canvas === 'string') {\n    canvas = document.getElementById(canvas);\n  }\n\n  if (!canvas || !('getContext' in canvas)) {\n    return;\n  }\n\n  canvas.style.width = w + 'px';\n  canvas.style.height = h + 'px';\n  canvas.width = w;\n  canvas.height = h;\n  var context = canvas.getContext('2d');\n  context.clearRect(0, 0, w, h);\n  context.drawImage(img, 0, 0, img.naturalWidth, img.naturalHeight, 0, 0, w, h);\n\n  if (isNaN(radius) || radius < 1) {\n    return;\n  }\n\n  if (blurAlphaChannel) {\n    processCanvasRGBA(canvas, 0, 0, w, h, radius);\n  } else {\n    processCanvasRGB(canvas, 0, 0, w, h, radius);\n  }\n}\n/**\n * @param {string|HTMLCanvasElement} canvas\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @throws {Error|TypeError}\n * @returns {ImageData} See {@link https://html.spec.whatwg.org/multipage/canvas.html#imagedata}\n */\n\n\nfunction getImageDataFromCanvas(canvas, topX, topY, width, height) {\n  if (typeof canvas === 'string') {\n    canvas = document.getElementById(canvas);\n  }\n\n  if (!canvas || _typeof(canvas) !== 'object' || !('getContext' in canvas)) {\n    throw new TypeError('Expecting canvas with `getContext` method ' + 'in processCanvasRGB(A) calls!');\n  }\n\n  var context = canvas.getContext('2d');\n\n  try {\n    return context.getImageData(topX, topY, width, height);\n  } catch (e) {\n    throw new Error('unable to access image data: ' + e);\n  }\n}\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {undefined}\n */\n\n\nfunction processCanvasRGBA(canvas, topX, topY, width, height, radius) {\n  if (isNaN(radius) || radius < 1) {\n    return;\n  }\n\n  radius |= 0;\n  var imageData = getImageDataFromCanvas(canvas, topX, topY, width, height);\n  imageData = processImageDataRGBA(imageData, topX, topY, width, height, radius);\n  canvas.getContext('2d').putImageData(imageData, topX, topY);\n}\n/**\n * @param {ImageData} imageData\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {ImageData}\n */\n\n\nfunction processImageDataRGBA(imageData, topX, topY, width, height, radius) {\n  var pixels = imageData.data;\n  var div = 2 * radius + 1; // const w4 = width << 2;\n\n  var widthMinus1 = width - 1;\n  var heightMinus1 = height - 1;\n  var radiusPlus1 = radius + 1;\n  var sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2;\n  var stackStart = new BlurStack();\n  var stack = stackStart;\n  var stackEnd;\n\n  for (var i = 1; i < div; i++) {\n    stack = stack.next = new BlurStack();\n\n    if (i === radiusPlus1) {\n      stackEnd = stack;\n    }\n  }\n\n  stack.next = stackStart;\n  var stackIn = null,\n      stackOut = null,\n      yw = 0,\n      yi = 0;\n  var mulSum = mulTable[radius];\n  var shgSum = shgTable[radius];\n\n  for (var y = 0; y < height; y++) {\n    stack = stackStart;\n    var pr = pixels[yi],\n        pg = pixels[yi + 1],\n        pb = pixels[yi + 2],\n        pa = pixels[yi + 3];\n\n    for (var _i = 0; _i < radiusPlus1; _i++) {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack.a = pa;\n      stack = stack.next;\n    }\n\n    var rInSum = 0,\n        gInSum = 0,\n        bInSum = 0,\n        aInSum = 0,\n        rOutSum = radiusPlus1 * pr,\n        gOutSum = radiusPlus1 * pg,\n        bOutSum = radiusPlus1 * pb,\n        aOutSum = radiusPlus1 * pa,\n        rSum = sumFactor * pr,\n        gSum = sumFactor * pg,\n        bSum = sumFactor * pb,\n        aSum = sumFactor * pa;\n\n    for (var _i2 = 1; _i2 < radiusPlus1; _i2++) {\n      var p = yi + ((widthMinus1 < _i2 ? widthMinus1 : _i2) << 2);\n      var r = pixels[p],\n          g = pixels[p + 1],\n          b = pixels[p + 2],\n          a = pixels[p + 3];\n      var rbs = radiusPlus1 - _i2;\n      rSum += (stack.r = r) * rbs;\n      gSum += (stack.g = g) * rbs;\n      bSum += (stack.b = b) * rbs;\n      aSum += (stack.a = a) * rbs;\n      rInSum += r;\n      gInSum += g;\n      bInSum += b;\n      aInSum += a;\n      stack = stack.next;\n    }\n\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var x = 0; x < width; x++) {\n      var paInitial = aSum * mulSum >> shgSum;\n      pixels[yi + 3] = paInitial;\n\n      if (paInitial !== 0) {\n        var _a2 = 255 / paInitial;\n\n        pixels[yi] = (rSum * mulSum >> shgSum) * _a2;\n        pixels[yi + 1] = (gSum * mulSum >> shgSum) * _a2;\n        pixels[yi + 2] = (bSum * mulSum >> shgSum) * _a2;\n      } else {\n        pixels[yi] = pixels[yi + 1] = pixels[yi + 2] = 0;\n      }\n\n      rSum -= rOutSum;\n      gSum -= gOutSum;\n      bSum -= bOutSum;\n      aSum -= aOutSum;\n      rOutSum -= stackIn.r;\n      gOutSum -= stackIn.g;\n      bOutSum -= stackIn.b;\n      aOutSum -= stackIn.a;\n\n      var _p = x + radius + 1;\n\n      _p = yw + (_p < widthMinus1 ? _p : widthMinus1) << 2;\n      rInSum += stackIn.r = pixels[_p];\n      gInSum += stackIn.g = pixels[_p + 1];\n      bInSum += stackIn.b = pixels[_p + 2];\n      aInSum += stackIn.a = pixels[_p + 3];\n      rSum += rInSum;\n      gSum += gInSum;\n      bSum += bInSum;\n      aSum += aInSum;\n      stackIn = stackIn.next;\n      var _stackOut = stackOut,\n          _r = _stackOut.r,\n          _g = _stackOut.g,\n          _b = _stackOut.b,\n          _a = _stackOut.a;\n      rOutSum += _r;\n      gOutSum += _g;\n      bOutSum += _b;\n      aOutSum += _a;\n      rInSum -= _r;\n      gInSum -= _g;\n      bInSum -= _b;\n      aInSum -= _a;\n      stackOut = stackOut.next;\n      yi += 4;\n    }\n\n    yw += width;\n  }\n\n  for (var _x = 0; _x < width; _x++) {\n    yi = _x << 2;\n\n    var _pr = pixels[yi],\n        _pg = pixels[yi + 1],\n        _pb = pixels[yi + 2],\n        _pa = pixels[yi + 3],\n        _rOutSum = radiusPlus1 * _pr,\n        _gOutSum = radiusPlus1 * _pg,\n        _bOutSum = radiusPlus1 * _pb,\n        _aOutSum = radiusPlus1 * _pa,\n        _rSum = sumFactor * _pr,\n        _gSum = sumFactor * _pg,\n        _bSum = sumFactor * _pb,\n        _aSum = sumFactor * _pa;\n\n    stack = stackStart;\n\n    for (var _i3 = 0; _i3 < radiusPlus1; _i3++) {\n      stack.r = _pr;\n      stack.g = _pg;\n      stack.b = _pb;\n      stack.a = _pa;\n      stack = stack.next;\n    }\n\n    var yp = width;\n    var _gInSum = 0,\n        _bInSum = 0,\n        _aInSum = 0,\n        _rInSum = 0;\n\n    for (var _i4 = 1; _i4 <= radius; _i4++) {\n      yi = yp + _x << 2;\n\n      var _rbs = radiusPlus1 - _i4;\n\n      _rSum += (stack.r = _pr = pixels[yi]) * _rbs;\n      _gSum += (stack.g = _pg = pixels[yi + 1]) * _rbs;\n      _bSum += (stack.b = _pb = pixels[yi + 2]) * _rbs;\n      _aSum += (stack.a = _pa = pixels[yi + 3]) * _rbs;\n      _rInSum += _pr;\n      _gInSum += _pg;\n      _bInSum += _pb;\n      _aInSum += _pa;\n      stack = stack.next;\n\n      if (_i4 < heightMinus1) {\n        yp += width;\n      }\n    }\n\n    yi = _x;\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var _y = 0; _y < height; _y++) {\n      var _p2 = yi << 2;\n\n      pixels[_p2 + 3] = _pa = _aSum * mulSum >> shgSum;\n\n      if (_pa > 0) {\n        _pa = 255 / _pa;\n        pixels[_p2] = (_rSum * mulSum >> shgSum) * _pa;\n        pixels[_p2 + 1] = (_gSum * mulSum >> shgSum) * _pa;\n        pixels[_p2 + 2] = (_bSum * mulSum >> shgSum) * _pa;\n      } else {\n        pixels[_p2] = pixels[_p2 + 1] = pixels[_p2 + 2] = 0;\n      }\n\n      _rSum -= _rOutSum;\n      _gSum -= _gOutSum;\n      _bSum -= _bOutSum;\n      _aSum -= _aOutSum;\n      _rOutSum -= stackIn.r;\n      _gOutSum -= stackIn.g;\n      _bOutSum -= stackIn.b;\n      _aOutSum -= stackIn.a;\n      _p2 = _x + ((_p2 = _y + radiusPlus1) < heightMinus1 ? _p2 : heightMinus1) * width << 2;\n      _rSum += _rInSum += stackIn.r = pixels[_p2];\n      _gSum += _gInSum += stackIn.g = pixels[_p2 + 1];\n      _bSum += _bInSum += stackIn.b = pixels[_p2 + 2];\n      _aSum += _aInSum += stackIn.a = pixels[_p2 + 3];\n      stackIn = stackIn.next;\n      _rOutSum += _pr = stackOut.r;\n      _gOutSum += _pg = stackOut.g;\n      _bOutSum += _pb = stackOut.b;\n      _aOutSum += _pa = stackOut.a;\n      _rInSum -= _pr;\n      _gInSum -= _pg;\n      _bInSum -= _pb;\n      _aInSum -= _pa;\n      stackOut = stackOut.next;\n      yi += width;\n    }\n  }\n\n  return imageData;\n}\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {undefined}\n */\n\n\nfunction processCanvasRGB(canvas, topX, topY, width, height, radius) {\n  if (isNaN(radius) || radius < 1) {\n    return;\n  }\n\n  radius |= 0;\n  var imageData = getImageDataFromCanvas(canvas, topX, topY, width, height);\n  imageData = processImageDataRGB(imageData, topX, topY, width, height, radius);\n  canvas.getContext('2d').putImageData(imageData, topX, topY);\n}\n/**\n * @param {ImageData} imageData\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {ImageData}\n */\n\n\nfunction processImageDataRGB(imageData, topX, topY, width, height, radius) {\n  var pixels = imageData.data;\n  var div = 2 * radius + 1; // const w4 = width << 2;\n\n  var widthMinus1 = width - 1;\n  var heightMinus1 = height - 1;\n  var radiusPlus1 = radius + 1;\n  var sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2;\n  var stackStart = new BlurStack();\n  var stack = stackStart;\n  var stackEnd;\n\n  for (var i = 1; i < div; i++) {\n    stack = stack.next = new BlurStack();\n\n    if (i === radiusPlus1) {\n      stackEnd = stack;\n    }\n  }\n\n  stack.next = stackStart;\n  var stackIn = null;\n  var stackOut = null;\n  var mulSum = mulTable[radius];\n  var shgSum = shgTable[radius];\n  var p, rbs;\n  var yw = 0,\n      yi = 0;\n\n  for (var y = 0; y < height; y++) {\n    var pr = pixels[yi],\n        pg = pixels[yi + 1],\n        pb = pixels[yi + 2],\n        rOutSum = radiusPlus1 * pr,\n        gOutSum = radiusPlus1 * pg,\n        bOutSum = radiusPlus1 * pb,\n        rSum = sumFactor * pr,\n        gSum = sumFactor * pg,\n        bSum = sumFactor * pb;\n    stack = stackStart;\n\n    for (var _i5 = 0; _i5 < radiusPlus1; _i5++) {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack = stack.next;\n    }\n\n    var rInSum = 0,\n        gInSum = 0,\n        bInSum = 0;\n\n    for (var _i6 = 1; _i6 < radiusPlus1; _i6++) {\n      p = yi + ((widthMinus1 < _i6 ? widthMinus1 : _i6) << 2);\n      rSum += (stack.r = pr = pixels[p]) * (rbs = radiusPlus1 - _i6);\n      gSum += (stack.g = pg = pixels[p + 1]) * rbs;\n      bSum += (stack.b = pb = pixels[p + 2]) * rbs;\n      rInSum += pr;\n      gInSum += pg;\n      bInSum += pb;\n      stack = stack.next;\n    }\n\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var x = 0; x < width; x++) {\n      pixels[yi] = rSum * mulSum >> shgSum;\n      pixels[yi + 1] = gSum * mulSum >> shgSum;\n      pixels[yi + 2] = bSum * mulSum >> shgSum;\n      rSum -= rOutSum;\n      gSum -= gOutSum;\n      bSum -= bOutSum;\n      rOutSum -= stackIn.r;\n      gOutSum -= stackIn.g;\n      bOutSum -= stackIn.b;\n      p = yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1) << 2;\n      rInSum += stackIn.r = pixels[p];\n      gInSum += stackIn.g = pixels[p + 1];\n      bInSum += stackIn.b = pixels[p + 2];\n      rSum += rInSum;\n      gSum += gInSum;\n      bSum += bInSum;\n      stackIn = stackIn.next;\n      rOutSum += pr = stackOut.r;\n      gOutSum += pg = stackOut.g;\n      bOutSum += pb = stackOut.b;\n      rInSum -= pr;\n      gInSum -= pg;\n      bInSum -= pb;\n      stackOut = stackOut.next;\n      yi += 4;\n    }\n\n    yw += width;\n  }\n\n  for (var _x2 = 0; _x2 < width; _x2++) {\n    yi = _x2 << 2;\n\n    var _pr2 = pixels[yi],\n        _pg2 = pixels[yi + 1],\n        _pb2 = pixels[yi + 2],\n        _rOutSum2 = radiusPlus1 * _pr2,\n        _gOutSum2 = radiusPlus1 * _pg2,\n        _bOutSum2 = radiusPlus1 * _pb2,\n        _rSum2 = sumFactor * _pr2,\n        _gSum2 = sumFactor * _pg2,\n        _bSum2 = sumFactor * _pb2;\n\n    stack = stackStart;\n\n    for (var _i7 = 0; _i7 < radiusPlus1; _i7++) {\n      stack.r = _pr2;\n      stack.g = _pg2;\n      stack.b = _pb2;\n      stack = stack.next;\n    }\n\n    var _rInSum2 = 0,\n        _gInSum2 = 0,\n        _bInSum2 = 0;\n\n    for (var _i8 = 1, yp = width; _i8 <= radius; _i8++) {\n      yi = yp + _x2 << 2;\n      _rSum2 += (stack.r = _pr2 = pixels[yi]) * (rbs = radiusPlus1 - _i8);\n      _gSum2 += (stack.g = _pg2 = pixels[yi + 1]) * rbs;\n      _bSum2 += (stack.b = _pb2 = pixels[yi + 2]) * rbs;\n      _rInSum2 += _pr2;\n      _gInSum2 += _pg2;\n      _bInSum2 += _pb2;\n      stack = stack.next;\n\n      if (_i8 < heightMinus1) {\n        yp += width;\n      }\n    }\n\n    yi = _x2;\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var _y2 = 0; _y2 < height; _y2++) {\n      p = yi << 2;\n      pixels[p] = _rSum2 * mulSum >> shgSum;\n      pixels[p + 1] = _gSum2 * mulSum >> shgSum;\n      pixels[p + 2] = _bSum2 * mulSum >> shgSum;\n      _rSum2 -= _rOutSum2;\n      _gSum2 -= _gOutSum2;\n      _bSum2 -= _bOutSum2;\n      _rOutSum2 -= stackIn.r;\n      _gOutSum2 -= stackIn.g;\n      _bOutSum2 -= stackIn.b;\n      p = _x2 + ((p = _y2 + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width << 2;\n      _rSum2 += _rInSum2 += stackIn.r = pixels[p];\n      _gSum2 += _gInSum2 += stackIn.g = pixels[p + 1];\n      _bSum2 += _bInSum2 += stackIn.b = pixels[p + 2];\n      stackIn = stackIn.next;\n      _rOutSum2 += _pr2 = stackOut.r;\n      _gOutSum2 += _pg2 = stackOut.g;\n      _bOutSum2 += _pb2 = stackOut.b;\n      _rInSum2 -= _pr2;\n      _gInSum2 -= _pg2;\n      _bInSum2 -= _pb2;\n      stackOut = stackOut.next;\n      yi += width;\n    }\n  }\n\n  return imageData;\n}\n/**\n *\n */\n\n\nvar BlurStack =\n/**\n * Set properties.\n */\nfunction BlurStack() {\n  _classCallCheck(this, BlurStack);\n\n  this.r = 0;\n  this.g = 0;\n  this.b = 0;\n  this.a = 0;\n  this.next = null;\n};\n\nexport { BlurStack, processCanvasRGB as canvasRGB, processCanvasRGBA as canvasRGBA, processImage as image, processImageDataRGB as imageDataRGB, processImageDataRGBA as imageDataRGBA };","map":{"version":3,"sources":["D:/github/jsonldresume/resume/node_modules/stackblur-canvas/dist/stackblur-es.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","mulTable","shgTable","processImage","img","canvas","radius","blurAlphaChannel","useOffsetWidth","document","getElementById","dimensionType","w","h","style","width","height","context","getContext","clearRect","drawImage","naturalWidth","naturalHeight","isNaN","processCanvasRGBA","processCanvasRGB","getImageDataFromCanvas","topX","topY","getImageData","e","Error","imageData","processImageDataRGBA","putImageData","pixels","data","div","widthMinus1","heightMinus1","radiusPlus1","sumFactor","stackStart","BlurStack","stack","stackEnd","i","next","stackIn","stackOut","yw","yi","mulSum","shgSum","y","pr","pg","pb","pa","_i","r","g","b","a","rInSum","gInSum","bInSum","aInSum","rOutSum","gOutSum","bOutSum","aOutSum","rSum","gSum","bSum","aSum","_i2","p","rbs","x","paInitial","_a2","_p","_stackOut","_r","_g","_b","_a","_x","_pr","_pg","_pb","_pa","_rOutSum","_gOutSum","_bOutSum","_aOutSum","_rSum","_gSum","_bSum","_aSum","_i3","yp","_gInSum","_bInSum","_aInSum","_rInSum","_i4","_rbs","_y","_p2","processImageDataRGB","_i5","_i6","_x2","_pr2","_pg2","_pb2","_rOutSum2","_gOutSum2","_bOutSum2","_rSum2","_gSum2","_bSum2","_i7","_rInSum2","_gInSum2","_bInSum2","_i8","_y2","canvasRGB","canvasRGBA","image","imageDataRGB","imageDataRGBA"],"mappings":"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","sourcesContent":["function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n/* eslint-disable no-bitwise -- used for calculations */\n\n/* eslint-disable unicorn/prefer-query-selector -- aiming at\n  backward-compatibility */\n\n/**\n* StackBlur - a fast almost Gaussian Blur For Canvas\n*\n* In case you find this class useful - especially in commercial projects -\n* I am not totally unhappy for a small donation to my PayPal account\n* mario@quasimondo.de\n*\n* Or support me on flattr:\n* {@link https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript}.\n*\n* @module StackBlur\n* @author Mario Klingemann\n* Contact: mario@quasimondo.com\n* Website: {@link http://www.quasimondo.com/StackBlurForCanvas/StackBlurDemo.html}\n* Twitter: @quasimondo\n*\n* @copyright (c) 2010 Mario Klingemann\n*\n* Permission is hereby granted, free of charge, to any person\n* obtaining a copy of this software and associated documentation\n* files (the \"Software\"), to deal in the Software without\n* restriction, including without limitation the rights to use,\n* copy, modify, merge, publish, distribute, sublicense, and/or sell\n* copies of the Software, and to permit persons to whom the\n* Software is furnished to do so, subject to the following\n* conditions:\n*\n* The above copyright notice and this permission notice shall be\n* included in all copies or substantial portions of the Software.\n*\n* THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n* OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n* HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n* FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n* OTHER DEALINGS IN THE SOFTWARE.\n*/\nvar mulTable = [512, 512, 456, 512, 328, 456, 335, 512, 405, 328, 271, 456, 388, 335, 292, 512, 454, 405, 364, 328, 298, 271, 496, 456, 420, 388, 360, 335, 312, 292, 273, 512, 482, 454, 428, 405, 383, 364, 345, 328, 312, 298, 284, 271, 259, 496, 475, 456, 437, 420, 404, 388, 374, 360, 347, 335, 323, 312, 302, 292, 282, 273, 265, 512, 497, 482, 468, 454, 441, 428, 417, 405, 394, 383, 373, 364, 354, 345, 337, 328, 320, 312, 305, 298, 291, 284, 278, 271, 265, 259, 507, 496, 485, 475, 465, 456, 446, 437, 428, 420, 412, 404, 396, 388, 381, 374, 367, 360, 354, 347, 341, 335, 329, 323, 318, 312, 307, 302, 297, 292, 287, 282, 278, 273, 269, 265, 261, 512, 505, 497, 489, 482, 475, 468, 461, 454, 447, 441, 435, 428, 422, 417, 411, 405, 399, 394, 389, 383, 378, 373, 368, 364, 359, 354, 350, 345, 341, 337, 332, 328, 324, 320, 316, 312, 309, 305, 301, 298, 294, 291, 287, 284, 281, 278, 274, 271, 268, 265, 262, 259, 257, 507, 501, 496, 491, 485, 480, 475, 470, 465, 460, 456, 451, 446, 442, 437, 433, 428, 424, 420, 416, 412, 408, 404, 400, 396, 392, 388, 385, 381, 377, 374, 370, 367, 363, 360, 357, 354, 350, 347, 344, 341, 338, 335, 332, 329, 326, 323, 320, 318, 315, 312, 310, 307, 304, 302, 299, 297, 294, 292, 289, 287, 285, 282, 280, 278, 275, 273, 271, 269, 267, 265, 263, 261, 259];\nvar shgTable = [9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24];\n/**\n * @param {string|HTMLImageElement} img\n * @param {string|HTMLCanvasElement} canvas\n * @param {Float} radius\n * @param {boolean} blurAlphaChannel\n * @param {boolean} useOffsetWidth\n * @returns {undefined}\n */\n\nfunction processImage(img, canvas, radius, blurAlphaChannel, useOffsetWidth) {\n  if (typeof img === 'string') {\n    img = document.getElementById(img);\n  }\n\n  if (!img || !('naturalWidth' in img)) {\n    return;\n  }\n\n  var dimensionType = useOffsetWidth ? 'offset' : 'natural';\n  var w = img[dimensionType + 'Width'];\n  var h = img[dimensionType + 'Height'];\n\n  if (typeof canvas === 'string') {\n    canvas = document.getElementById(canvas);\n  }\n\n  if (!canvas || !('getContext' in canvas)) {\n    return;\n  }\n\n  canvas.style.width = w + 'px';\n  canvas.style.height = h + 'px';\n  canvas.width = w;\n  canvas.height = h;\n  var context = canvas.getContext('2d');\n  context.clearRect(0, 0, w, h);\n  context.drawImage(img, 0, 0, img.naturalWidth, img.naturalHeight, 0, 0, w, h);\n\n  if (isNaN(radius) || radius < 1) {\n    return;\n  }\n\n  if (blurAlphaChannel) {\n    processCanvasRGBA(canvas, 0, 0, w, h, radius);\n  } else {\n    processCanvasRGB(canvas, 0, 0, w, h, radius);\n  }\n}\n/**\n * @param {string|HTMLCanvasElement} canvas\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @throws {Error|TypeError}\n * @returns {ImageData} See {@link https://html.spec.whatwg.org/multipage/canvas.html#imagedata}\n */\n\n\nfunction getImageDataFromCanvas(canvas, topX, topY, width, height) {\n  if (typeof canvas === 'string') {\n    canvas = document.getElementById(canvas);\n  }\n\n  if (!canvas || _typeof(canvas) !== 'object' || !('getContext' in canvas)) {\n    throw new TypeError('Expecting canvas with `getContext` method ' + 'in processCanvasRGB(A) calls!');\n  }\n\n  var context = canvas.getContext('2d');\n\n  try {\n    return context.getImageData(topX, topY, width, height);\n  } catch (e) {\n    throw new Error('unable to access image data: ' + e);\n  }\n}\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {undefined}\n */\n\n\nfunction processCanvasRGBA(canvas, topX, topY, width, height, radius) {\n  if (isNaN(radius) || radius < 1) {\n    return;\n  }\n\n  radius |= 0;\n  var imageData = getImageDataFromCanvas(canvas, topX, topY, width, height);\n  imageData = processImageDataRGBA(imageData, topX, topY, width, height, radius);\n  canvas.getContext('2d').putImageData(imageData, topX, topY);\n}\n/**\n * @param {ImageData} imageData\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {ImageData}\n */\n\n\nfunction processImageDataRGBA(imageData, topX, topY, width, height, radius) {\n  var pixels = imageData.data;\n  var div = 2 * radius + 1; // const w4 = width << 2;\n\n  var widthMinus1 = width - 1;\n  var heightMinus1 = height - 1;\n  var radiusPlus1 = radius + 1;\n  var sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2;\n  var stackStart = new BlurStack();\n  var stack = stackStart;\n  var stackEnd;\n\n  for (var i = 1; i < div; i++) {\n    stack = stack.next = new BlurStack();\n\n    if (i === radiusPlus1) {\n      stackEnd = stack;\n    }\n  }\n\n  stack.next = stackStart;\n  var stackIn = null,\n      stackOut = null,\n      yw = 0,\n      yi = 0;\n  var mulSum = mulTable[radius];\n  var shgSum = shgTable[radius];\n\n  for (var y = 0; y < height; y++) {\n    stack = stackStart;\n    var pr = pixels[yi],\n        pg = pixels[yi + 1],\n        pb = pixels[yi + 2],\n        pa = pixels[yi + 3];\n\n    for (var _i = 0; _i < radiusPlus1; _i++) {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack.a = pa;\n      stack = stack.next;\n    }\n\n    var rInSum = 0,\n        gInSum = 0,\n        bInSum = 0,\n        aInSum = 0,\n        rOutSum = radiusPlus1 * pr,\n        gOutSum = radiusPlus1 * pg,\n        bOutSum = radiusPlus1 * pb,\n        aOutSum = radiusPlus1 * pa,\n        rSum = sumFactor * pr,\n        gSum = sumFactor * pg,\n        bSum = sumFactor * pb,\n        aSum = sumFactor * pa;\n\n    for (var _i2 = 1; _i2 < radiusPlus1; _i2++) {\n      var p = yi + ((widthMinus1 < _i2 ? widthMinus1 : _i2) << 2);\n      var r = pixels[p],\n          g = pixels[p + 1],\n          b = pixels[p + 2],\n          a = pixels[p + 3];\n      var rbs = radiusPlus1 - _i2;\n      rSum += (stack.r = r) * rbs;\n      gSum += (stack.g = g) * rbs;\n      bSum += (stack.b = b) * rbs;\n      aSum += (stack.a = a) * rbs;\n      rInSum += r;\n      gInSum += g;\n      bInSum += b;\n      aInSum += a;\n      stack = stack.next;\n    }\n\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var x = 0; x < width; x++) {\n      var paInitial = aSum * mulSum >> shgSum;\n      pixels[yi + 3] = paInitial;\n\n      if (paInitial !== 0) {\n        var _a2 = 255 / paInitial;\n\n        pixels[yi] = (rSum * mulSum >> shgSum) * _a2;\n        pixels[yi + 1] = (gSum * mulSum >> shgSum) * _a2;\n        pixels[yi + 2] = (bSum * mulSum >> shgSum) * _a2;\n      } else {\n        pixels[yi] = pixels[yi + 1] = pixels[yi + 2] = 0;\n      }\n\n      rSum -= rOutSum;\n      gSum -= gOutSum;\n      bSum -= bOutSum;\n      aSum -= aOutSum;\n      rOutSum -= stackIn.r;\n      gOutSum -= stackIn.g;\n      bOutSum -= stackIn.b;\n      aOutSum -= stackIn.a;\n\n      var _p = x + radius + 1;\n\n      _p = yw + (_p < widthMinus1 ? _p : widthMinus1) << 2;\n      rInSum += stackIn.r = pixels[_p];\n      gInSum += stackIn.g = pixels[_p + 1];\n      bInSum += stackIn.b = pixels[_p + 2];\n      aInSum += stackIn.a = pixels[_p + 3];\n      rSum += rInSum;\n      gSum += gInSum;\n      bSum += bInSum;\n      aSum += aInSum;\n      stackIn = stackIn.next;\n      var _stackOut = stackOut,\n          _r = _stackOut.r,\n          _g = _stackOut.g,\n          _b = _stackOut.b,\n          _a = _stackOut.a;\n      rOutSum += _r;\n      gOutSum += _g;\n      bOutSum += _b;\n      aOutSum += _a;\n      rInSum -= _r;\n      gInSum -= _g;\n      bInSum -= _b;\n      aInSum -= _a;\n      stackOut = stackOut.next;\n      yi += 4;\n    }\n\n    yw += width;\n  }\n\n  for (var _x = 0; _x < width; _x++) {\n    yi = _x << 2;\n\n    var _pr = pixels[yi],\n        _pg = pixels[yi + 1],\n        _pb = pixels[yi + 2],\n        _pa = pixels[yi + 3],\n        _rOutSum = radiusPlus1 * _pr,\n        _gOutSum = radiusPlus1 * _pg,\n        _bOutSum = radiusPlus1 * _pb,\n        _aOutSum = radiusPlus1 * _pa,\n        _rSum = sumFactor * _pr,\n        _gSum = sumFactor * _pg,\n        _bSum = sumFactor * _pb,\n        _aSum = sumFactor * _pa;\n\n    stack = stackStart;\n\n    for (var _i3 = 0; _i3 < radiusPlus1; _i3++) {\n      stack.r = _pr;\n      stack.g = _pg;\n      stack.b = _pb;\n      stack.a = _pa;\n      stack = stack.next;\n    }\n\n    var yp = width;\n    var _gInSum = 0,\n        _bInSum = 0,\n        _aInSum = 0,\n        _rInSum = 0;\n\n    for (var _i4 = 1; _i4 <= radius; _i4++) {\n      yi = yp + _x << 2;\n\n      var _rbs = radiusPlus1 - _i4;\n\n      _rSum += (stack.r = _pr = pixels[yi]) * _rbs;\n      _gSum += (stack.g = _pg = pixels[yi + 1]) * _rbs;\n      _bSum += (stack.b = _pb = pixels[yi + 2]) * _rbs;\n      _aSum += (stack.a = _pa = pixels[yi + 3]) * _rbs;\n      _rInSum += _pr;\n      _gInSum += _pg;\n      _bInSum += _pb;\n      _aInSum += _pa;\n      stack = stack.next;\n\n      if (_i4 < heightMinus1) {\n        yp += width;\n      }\n    }\n\n    yi = _x;\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var _y = 0; _y < height; _y++) {\n      var _p2 = yi << 2;\n\n      pixels[_p2 + 3] = _pa = _aSum * mulSum >> shgSum;\n\n      if (_pa > 0) {\n        _pa = 255 / _pa;\n        pixels[_p2] = (_rSum * mulSum >> shgSum) * _pa;\n        pixels[_p2 + 1] = (_gSum * mulSum >> shgSum) * _pa;\n        pixels[_p2 + 2] = (_bSum * mulSum >> shgSum) * _pa;\n      } else {\n        pixels[_p2] = pixels[_p2 + 1] = pixels[_p2 + 2] = 0;\n      }\n\n      _rSum -= _rOutSum;\n      _gSum -= _gOutSum;\n      _bSum -= _bOutSum;\n      _aSum -= _aOutSum;\n      _rOutSum -= stackIn.r;\n      _gOutSum -= stackIn.g;\n      _bOutSum -= stackIn.b;\n      _aOutSum -= stackIn.a;\n      _p2 = _x + ((_p2 = _y + radiusPlus1) < heightMinus1 ? _p2 : heightMinus1) * width << 2;\n      _rSum += _rInSum += stackIn.r = pixels[_p2];\n      _gSum += _gInSum += stackIn.g = pixels[_p2 + 1];\n      _bSum += _bInSum += stackIn.b = pixels[_p2 + 2];\n      _aSum += _aInSum += stackIn.a = pixels[_p2 + 3];\n      stackIn = stackIn.next;\n      _rOutSum += _pr = stackOut.r;\n      _gOutSum += _pg = stackOut.g;\n      _bOutSum += _pb = stackOut.b;\n      _aOutSum += _pa = stackOut.a;\n      _rInSum -= _pr;\n      _gInSum -= _pg;\n      _bInSum -= _pb;\n      _aInSum -= _pa;\n      stackOut = stackOut.next;\n      yi += width;\n    }\n  }\n\n  return imageData;\n}\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {undefined}\n */\n\n\nfunction processCanvasRGB(canvas, topX, topY, width, height, radius) {\n  if (isNaN(radius) || radius < 1) {\n    return;\n  }\n\n  radius |= 0;\n  var imageData = getImageDataFromCanvas(canvas, topX, topY, width, height);\n  imageData = processImageDataRGB(imageData, topX, topY, width, height, radius);\n  canvas.getContext('2d').putImageData(imageData, topX, topY);\n}\n/**\n * @param {ImageData} imageData\n * @param {Integer} topX\n * @param {Integer} topY\n * @param {Integer} width\n * @param {Integer} height\n * @param {Float} radius\n * @returns {ImageData}\n */\n\n\nfunction processImageDataRGB(imageData, topX, topY, width, height, radius) {\n  var pixels = imageData.data;\n  var div = 2 * radius + 1; // const w4 = width << 2;\n\n  var widthMinus1 = width - 1;\n  var heightMinus1 = height - 1;\n  var radiusPlus1 = radius + 1;\n  var sumFactor = radiusPlus1 * (radiusPlus1 + 1) / 2;\n  var stackStart = new BlurStack();\n  var stack = stackStart;\n  var stackEnd;\n\n  for (var i = 1; i < div; i++) {\n    stack = stack.next = new BlurStack();\n\n    if (i === radiusPlus1) {\n      stackEnd = stack;\n    }\n  }\n\n  stack.next = stackStart;\n  var stackIn = null;\n  var stackOut = null;\n  var mulSum = mulTable[radius];\n  var shgSum = shgTable[radius];\n  var p, rbs;\n  var yw = 0,\n      yi = 0;\n\n  for (var y = 0; y < height; y++) {\n    var pr = pixels[yi],\n        pg = pixels[yi + 1],\n        pb = pixels[yi + 2],\n        rOutSum = radiusPlus1 * pr,\n        gOutSum = radiusPlus1 * pg,\n        bOutSum = radiusPlus1 * pb,\n        rSum = sumFactor * pr,\n        gSum = sumFactor * pg,\n        bSum = sumFactor * pb;\n    stack = stackStart;\n\n    for (var _i5 = 0; _i5 < radiusPlus1; _i5++) {\n      stack.r = pr;\n      stack.g = pg;\n      stack.b = pb;\n      stack = stack.next;\n    }\n\n    var rInSum = 0,\n        gInSum = 0,\n        bInSum = 0;\n\n    for (var _i6 = 1; _i6 < radiusPlus1; _i6++) {\n      p = yi + ((widthMinus1 < _i6 ? widthMinus1 : _i6) << 2);\n      rSum += (stack.r = pr = pixels[p]) * (rbs = radiusPlus1 - _i6);\n      gSum += (stack.g = pg = pixels[p + 1]) * rbs;\n      bSum += (stack.b = pb = pixels[p + 2]) * rbs;\n      rInSum += pr;\n      gInSum += pg;\n      bInSum += pb;\n      stack = stack.next;\n    }\n\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var x = 0; x < width; x++) {\n      pixels[yi] = rSum * mulSum >> shgSum;\n      pixels[yi + 1] = gSum * mulSum >> shgSum;\n      pixels[yi + 2] = bSum * mulSum >> shgSum;\n      rSum -= rOutSum;\n      gSum -= gOutSum;\n      bSum -= bOutSum;\n      rOutSum -= stackIn.r;\n      gOutSum -= stackIn.g;\n      bOutSum -= stackIn.b;\n      p = yw + ((p = x + radius + 1) < widthMinus1 ? p : widthMinus1) << 2;\n      rInSum += stackIn.r = pixels[p];\n      gInSum += stackIn.g = pixels[p + 1];\n      bInSum += stackIn.b = pixels[p + 2];\n      rSum += rInSum;\n      gSum += gInSum;\n      bSum += bInSum;\n      stackIn = stackIn.next;\n      rOutSum += pr = stackOut.r;\n      gOutSum += pg = stackOut.g;\n      bOutSum += pb = stackOut.b;\n      rInSum -= pr;\n      gInSum -= pg;\n      bInSum -= pb;\n      stackOut = stackOut.next;\n      yi += 4;\n    }\n\n    yw += width;\n  }\n\n  for (var _x2 = 0; _x2 < width; _x2++) {\n    yi = _x2 << 2;\n\n    var _pr2 = pixels[yi],\n        _pg2 = pixels[yi + 1],\n        _pb2 = pixels[yi + 2],\n        _rOutSum2 = radiusPlus1 * _pr2,\n        _gOutSum2 = radiusPlus1 * _pg2,\n        _bOutSum2 = radiusPlus1 * _pb2,\n        _rSum2 = sumFactor * _pr2,\n        _gSum2 = sumFactor * _pg2,\n        _bSum2 = sumFactor * _pb2;\n\n    stack = stackStart;\n\n    for (var _i7 = 0; _i7 < radiusPlus1; _i7++) {\n      stack.r = _pr2;\n      stack.g = _pg2;\n      stack.b = _pb2;\n      stack = stack.next;\n    }\n\n    var _rInSum2 = 0,\n        _gInSum2 = 0,\n        _bInSum2 = 0;\n\n    for (var _i8 = 1, yp = width; _i8 <= radius; _i8++) {\n      yi = yp + _x2 << 2;\n      _rSum2 += (stack.r = _pr2 = pixels[yi]) * (rbs = radiusPlus1 - _i8);\n      _gSum2 += (stack.g = _pg2 = pixels[yi + 1]) * rbs;\n      _bSum2 += (stack.b = _pb2 = pixels[yi + 2]) * rbs;\n      _rInSum2 += _pr2;\n      _gInSum2 += _pg2;\n      _bInSum2 += _pb2;\n      stack = stack.next;\n\n      if (_i8 < heightMinus1) {\n        yp += width;\n      }\n    }\n\n    yi = _x2;\n    stackIn = stackStart;\n    stackOut = stackEnd;\n\n    for (var _y2 = 0; _y2 < height; _y2++) {\n      p = yi << 2;\n      pixels[p] = _rSum2 * mulSum >> shgSum;\n      pixels[p + 1] = _gSum2 * mulSum >> shgSum;\n      pixels[p + 2] = _bSum2 * mulSum >> shgSum;\n      _rSum2 -= _rOutSum2;\n      _gSum2 -= _gOutSum2;\n      _bSum2 -= _bOutSum2;\n      _rOutSum2 -= stackIn.r;\n      _gOutSum2 -= stackIn.g;\n      _bOutSum2 -= stackIn.b;\n      p = _x2 + ((p = _y2 + radiusPlus1) < heightMinus1 ? p : heightMinus1) * width << 2;\n      _rSum2 += _rInSum2 += stackIn.r = pixels[p];\n      _gSum2 += _gInSum2 += stackIn.g = pixels[p + 1];\n      _bSum2 += _bInSum2 += stackIn.b = pixels[p + 2];\n      stackIn = stackIn.next;\n      _rOutSum2 += _pr2 = stackOut.r;\n      _gOutSum2 += _pg2 = stackOut.g;\n      _bOutSum2 += _pb2 = stackOut.b;\n      _rInSum2 -= _pr2;\n      _gInSum2 -= _pg2;\n      _bInSum2 -= _pb2;\n      stackOut = stackOut.next;\n      yi += width;\n    }\n  }\n\n  return imageData;\n}\n/**\n *\n */\n\n\nvar BlurStack =\n/**\n * Set properties.\n */\nfunction BlurStack() {\n  _classCallCheck(this, BlurStack);\n\n  this.r = 0;\n  this.g = 0;\n  this.b = 0;\n  this.a = 0;\n  this.next = null;\n};\n\nexport { BlurStack, processCanvasRGB as canvasRGB, processCanvasRGBA as canvasRGBA, processImage as image, processImageDataRGB as imageDataRGB, processImageDataRGBA as imageDataRGBA };\n"]},"metadata":{},"sourceType":"module"}