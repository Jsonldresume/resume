{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\github\\\\jsonldresume\\\\resume\\\\src\\\\components\\\\App\\\\App.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable jsx-a11y/media-has-caption */\nimport React, { useRef, useEffect, useContext, Suspense } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { PanZoom } from 'react-easy-panzoom';\nimport AppContext from '../../context/AppContext';\nimport PageContext from '../../context/PageContext';\nimport templates from '../../templates';\nimport PageController from '../../shared/PageController';\nimport PrintDialog from '../../shared/PrintDialog';\nimport PanZoomAnimation from '../../shared/PanZoomAnimation';\n\nconst App = ({\n  theme = 'Celebi'\n}) => {\n  _s();\n\n  const pageRef = useRef(null);\n  const panZoomRef = useRef(null);\n  const {\n    i18n\n  } = useTranslation();\n  const context = useContext(AppContext);\n  const {\n    state,\n    dispatch\n  } = context;\n  const {\n    settings\n  } = state;\n  const pageContext = useContext(PageContext);\n  const {\n    setPageRef,\n    setPanZoomRef\n  } = pageContext;\n  useEffect(() => {\n    setPageRef(pageRef);\n    setPanZoomRef(panZoomRef);\n    i18n.changeLanguage(settings.language);\n    const storedState = JSON.parse(localStorage.getItem('state')); //dispatch({ type: 'import_data', payload: storedState });\n\n    fetch(\"resume.json\").then(function (resumeData) {\n      console.log(resumeData);\n      alert(\"OK\");\n      dispatch({\n        type: 'import_data',\n        payload: resumeData\n      });\n    });\n  }, [dispatch, setPageRef, setPanZoomRef, i18n, settings.language]);\n  return /*#__PURE__*/_jsxDEV(Suspense, {\n    fallback: \"Loading...\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-screen grid grid-cols-5 items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative z-10 h-screen overflow-hidden col-span-5 flex justify-center items-center\",\n        children: [/*#__PURE__*/_jsxDEV(PanZoom, {\n          ref: panZoomRef,\n          minZoom: \"0.4\",\n          autoCenter: true,\n          autoCenterZoomLevel: 0.7,\n          enableBoundingBox: true,\n          boundaryRatioVertical: 0.8,\n          boundaryRatioHorizontal: 0.8,\n          style: {\n            outline: 'none'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"page\",\n            ref: pageRef,\n            className: \"shadow-2xl break-words\",\n            children: templates.find(x => theme.toLowerCase() === x.key).component()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(PageController, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"printPage\",\n        className: \"break-words\",\n        children: templates.find(x => theme.toLowerCase() === x.key).component()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PanZoomAnimation, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PrintDialog, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"Pousb/hvAQiuFbuFaecsGSSteJw=\", false, function () {\n  return [useTranslation];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["D:/github/jsonldresume/resume/src/components/App/App.js"],"names":["React","useRef","useEffect","useContext","Suspense","useTranslation","PanZoom","AppContext","PageContext","templates","PageController","PrintDialog","PanZoomAnimation","App","theme","pageRef","panZoomRef","i18n","context","state","dispatch","settings","pageContext","setPageRef","setPanZoomRef","changeLanguage","language","storedState","JSON","parse","localStorage","getItem","fetch","then","resumeData","console","log","alert","type","payload","outline","find","x","toLowerCase","key","component"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/media-has-caption */\r\nimport React, { useRef, useEffect, useContext, Suspense } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { PanZoom } from 'react-easy-panzoom';\r\n\r\nimport AppContext from '../../context/AppContext';\r\nimport PageContext from '../../context/PageContext';\r\n\r\nimport templates from '../../templates';\r\nimport PageController from '../../shared/PageController';\r\nimport PrintDialog from '../../shared/PrintDialog';\r\nimport PanZoomAnimation from '../../shared/PanZoomAnimation';\r\n  \r\nconst App = ({theme='Celebi'}) => {\r\n  const pageRef = useRef(null);\r\n  const panZoomRef = useRef(null);\r\n  const { i18n } = useTranslation();\r\n\r\n  const context = useContext(AppContext);\r\n  const { state, dispatch } = context;\r\n  const { settings } = state;\r\n\r\n  const pageContext = useContext(PageContext);\r\n  const { setPageRef, setPanZoomRef } = pageContext;\r\n\r\n  useEffect(() => {\r\n    setPageRef(pageRef);\r\n    setPanZoomRef(panZoomRef);\r\n    i18n.changeLanguage(settings.language);\r\n    const storedState = JSON.parse(localStorage.getItem('state'));\r\n    //dispatch({ type: 'import_data', payload: storedState });\r\n    fetch(\"resume.json\").then(function(resumeData) {\r\n      console.log(resumeData);\r\n      alert(\"OK\");\r\n      dispatch({ type: 'import_data', payload: resumeData });\r\n    });\r\n  }, [dispatch, setPageRef, setPanZoomRef, i18n, settings.language]);\r\n\r\n  return (\r\n    <Suspense fallback=\"Loading...\">\r\n      <div className=\"h-screen grid grid-cols-5 items-center\">\r\n\r\n        <div className=\"relative z-10 h-screen overflow-hidden col-span-5 flex justify-center items-center\">\r\n          <PanZoom\r\n            ref={panZoomRef}\r\n            minZoom=\"0.4\"\r\n            autoCenter\r\n            autoCenterZoomLevel={0.7}\r\n            enableBoundingBox\r\n            boundaryRatioVertical={0.8}\r\n            boundaryRatioHorizontal={0.8}\r\n            style={{ outline: 'none' }}\r\n          >\r\n            <div id=\"page\" ref={pageRef} className=\"shadow-2xl break-words\">\r\n              {templates.find(x => theme.toLowerCase() === x.key).component()}\r\n            </div>\r\n          </PanZoom>\r\n\r\n          <PageController />\r\n        </div>\r\n\r\n        <div id=\"printPage\" className=\"break-words\">\r\n          {templates.find(x => theme.toLowerCase() === x.key).component()}\r\n        </div>\r\n\r\n        <PanZoomAnimation />\r\n        <PrintDialog />\r\n      </div>\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}