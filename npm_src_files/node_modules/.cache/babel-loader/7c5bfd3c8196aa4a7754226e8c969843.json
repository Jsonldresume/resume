{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";/* eslint-disable jsx-a11y/media-has-caption */import React,{useRef,useEffect,useContext,Suspense}from'react';import{useTranslation}from'react-i18next';import{PanZoom}from'react-easy-panzoom';import AppContext from'../../context/AppContext';import PageContext from'../../context/PageContext';import templates from'../../templates';import PageController from'../../shared/PageController';import PrintDialog from'../../shared/PrintDialog';import PanZoomAnimation from'../../shared/PanZoomAnimation';var App=function App(_ref){var _ref$theme=_ref.theme,theme=_ref$theme===void 0?'Celebi':_ref$theme;var pageRef=useRef(null);var panZoomRef=useRef(null);var _useTranslation=useTranslation(),i18n=_useTranslation.i18n;var context=useContext(AppContext);var state=context.state,dispatch=context.dispatch;var settings=state.settings;var pageContext=useContext(PageContext);var setPageRef=pageContext.setPageRef,setPanZoomRef=pageContext.setPanZoomRef;useEffect(function(){setPageRef(pageRef);setPanZoomRef(panZoomRef);i18n.changeLanguage(settings.language);var storedState=JSON.parse(localStorage.getItem('state'));dispatch({type:'import_data',payload:storedState});},[dispatch,setPageRef,setPanZoomRef,i18n,settings.language]);return/*#__PURE__*/_jsx(Suspense,{fallback:\"Loading...\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"h-screen grid grid-cols-5 items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10 h-screen overflow-hidden col-span-5 flex justify-center items-center\",children:[/*#__PURE__*/_jsx(PanZoom,{ref:panZoomRef,minZoom:\"0.4\",autoCenter:true,autoCenterZoomLevel:0.7,enableBoundingBox:true,boundaryRatioVertical:0.8,boundaryRatioHorizontal:0.8,style:{outline:'none'},children:/*#__PURE__*/_jsx(\"div\",{id:\"page\",ref:pageRef,className:\"shadow-2xl break-words\",children:templates.find(function(x){return theme.toLowerCase()===x.key;}).component()})}),/*#__PURE__*/_jsx(PageController,{})]}),/*#__PURE__*/_jsx(\"div\",{id:\"printPage\",className:\"break-words\",children:templates.find(function(x){return theme.toLowerCase()===x.key;}).component()}),/*#__PURE__*/_jsx(PanZoomAnimation,{}),/*#__PURE__*/_jsx(PrintDialog,{})]})});};export default App;","map":{"version":3,"sources":["D:/github/jsonldresume/resume/src/components/App/App.js"],"names":["React","useRef","useEffect","useContext","Suspense","useTranslation","PanZoom","AppContext","PageContext","templates","PageController","PrintDialog","PanZoomAnimation","App","theme","pageRef","panZoomRef","i18n","context","state","dispatch","settings","pageContext","setPageRef","setPanZoomRef","changeLanguage","language","storedState","JSON","parse","localStorage","getItem","type","payload","outline","find","x","toLowerCase","key","component"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/media-has-caption */\r\nimport React, { useRef, useEffect, useContext, Suspense } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { PanZoom } from 'react-easy-panzoom';\r\n\r\nimport AppContext from '../../context/AppContext';\r\nimport PageContext from '../../context/PageContext';\r\n\r\nimport templates from '../../templates';\r\nimport PageController from '../../shared/PageController';\r\nimport PrintDialog from '../../shared/PrintDialog';\r\nimport PanZoomAnimation from '../../shared/PanZoomAnimation';\r\n\r\nconst App = ({theme='Celebi'}) => {\r\n  const pageRef = useRef(null);\r\n  const panZoomRef = useRef(null);\r\n  const { i18n } = useTranslation();\r\n\r\n  const context = useContext(AppContext);\r\n  const { state, dispatch } = context;\r\n  const { settings } = state;\r\n\r\n  const pageContext = useContext(PageContext);\r\n  const { setPageRef, setPanZoomRef } = pageContext;\r\n\r\n  useEffect(() => {\r\n    setPageRef(pageRef);\r\n    setPanZoomRef(panZoomRef);\r\n    i18n.changeLanguage(settings.language);\r\n    const storedState = JSON.parse(localStorage.getItem('state'));\r\n    dispatch({ type: 'import_data', payload: storedState });\r\n  }, [dispatch, setPageRef, setPanZoomRef, i18n, settings.language]);\r\n\r\n  return (\r\n    <Suspense fallback=\"Loading...\">\r\n      <div className=\"h-screen grid grid-cols-5 items-center\">\r\n\r\n        <div className=\"relative z-10 h-screen overflow-hidden col-span-5 flex justify-center items-center\">\r\n          <PanZoom\r\n            ref={panZoomRef}\r\n            minZoom=\"0.4\"\r\n            autoCenter\r\n            autoCenterZoomLevel={0.7}\r\n            enableBoundingBox\r\n            boundaryRatioVertical={0.8}\r\n            boundaryRatioHorizontal={0.8}\r\n            style={{ outline: 'none' }}\r\n          >\r\n            <div id=\"page\" ref={pageRef} className=\"shadow-2xl break-words\">\r\n              {templates.find(x => theme.toLowerCase() === x.key).component()}\r\n            </div>\r\n          </PanZoom>\r\n\r\n          <PageController />\r\n        </div>\r\n\r\n        <div id=\"printPage\" className=\"break-words\">\r\n          {templates.find(x => theme.toLowerCase() === x.key).component()}\r\n        </div>\r\n\r\n        <PanZoomAnimation />\r\n        <PrintDialog />\r\n      </div>\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}