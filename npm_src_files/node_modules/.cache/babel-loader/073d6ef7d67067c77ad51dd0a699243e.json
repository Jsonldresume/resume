{"ast":null,"code":"import _regeneratorRuntime from\"D:/github/jsonldresume/resume/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/github/jsonldresume/resume/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"D:/github/jsonldresume/resume/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{useTranslation}from'react-i18next';import PageContext from'../context/PageContext';import Dropdown from'./Dropdown';import{saveAsPdf,saveAsMultiPagePdf}from'../utils';var PrintDialog=function PrintDialog(){var _useTranslation=useTranslation(),t=_useTranslation.t;var pageContext=useContext(PageContext);var pageRef=pageContext.pageRef,panZoomRef=pageContext.panZoomRef,isPrintDialogOpen=pageContext.isPrintDialogOpen,setPrintDialogOpen=pageContext.setPrintDialogOpen;var printTypes=[{key:'unconstrained',value:\"\".concat(t('printDialog.printType.types.unconstrained'))},{key:'fitInA4',value:\"\".concat(t('printDialog.printType.types.fitInA4'))},{key:'multiPageA4',value:\"\".concat(t('printDialog.printType.types.multiPageA4'))}];var _useState=useState(80),_useState2=_slicedToArray(_useState,2),quality=_useState2[0],setQuality=_useState2[1];var _useState3=useState(printTypes[0].key),_useState4=_slicedToArray(_useState3,2),type=_useState4[0],setType=_useState4[1];return/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 transition-all duration-200 ease-in-out \".concat(isPrintDialogOpen?'opacity-100 z-20':'opacity-0 z-0'),style:{backgroundColor:'rgba(0, 0, 0, 0.25)'},onClick:function onClick(){setPrintDialogOpen(false);},children:/*#__PURE__*/_jsxs(\"div\",{className:\"centered py-8 px-12 bg-white shadow-xl rounded w-full md:w-1/3\",onClick:function onClick(e){e.stopPropagation();e.preventDefault();},children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-6 text-lg font-bold\",children:t('printDialog.heading')}),/*#__PURE__*/_jsx(\"h6\",{className:\"mb-1 text-sm font-medium\",children:t('printDialog.quality.label')}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",className:\"w-full h-4 my-2 rounded-full overflow-hidden appearance-none focus:outline-none bg-gray-400\",value:quality,onChange:function onChange(e){return setQuality(e.target.value);},min:\"40\",max:\"100\",step:\"5\"}),/*#__PURE__*/_jsxs(\"h6\",{className:\"font-medium pl-5\",children:[quality,\"%\"]})]}),/*#__PURE__*/_jsx(\"h6\",{className:\"mt-4 mb-2 text-sm font-medium\",children:t('printDialog.printType.label')}),/*#__PURE__*/_jsx(Dropdown,{value:type,options:printTypes,onChange:setType,optionItem:function optionItem(x){return/*#__PURE__*/_jsx(\"option\",{value:x.key,children:x.value},x.key);}}),/*#__PURE__*/_jsx(\"p\",{className:\"my-3 text-xs text-gray-600\",children:t('printDialog.helpText.0')}),/*#__PURE__*/_jsx(\"p\",{className:\"my-3 text-xs text-gray-600\",children:t('printDialog.helpText.1')}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){setPrintDialogOpen(false);},className:\"mt-6 border border-red-600 text-red-600 hover:bg-red-600 hover:text-white text-sm font-medium py-2 px-5 rounded\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons mr-2 font-bold text-base\",children:\"close\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:t('printDialog.buttons.cancel')})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return type==='multiPageA4'?saveAsMultiPagePdf(pageRef,panZoomRef,quality):saveAsPdf(pageRef,panZoomRef,quality,type);case 2:setPrintDialogOpen(false);case 3:case\"end\":return _context.stop();}}},_callee);})),className:\"mt-6 border border-gray-700 text-gray-700 hover:bg-gray-700 hover:text-white text-sm font-medium py-2 px-5 rounded\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons mr-2 font-bold text-base\",children:\"save\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:t('printDialog.buttons.saveAsPdf')})]})})]})]})});};export default PrintDialog;","map":{"version":3,"sources":["D:/github/jsonldresume/resume/src/shared/PrintDialog.js"],"names":["React","useState","useContext","useTranslation","PageContext","Dropdown","saveAsPdf","saveAsMultiPagePdf","PrintDialog","t","pageContext","pageRef","panZoomRef","isPrintDialogOpen","setPrintDialogOpen","printTypes","key","value","quality","setQuality","type","setType","backgroundColor","e","stopPropagation","preventDefault","target","x"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport PageContext from '../context/PageContext';\r\nimport Dropdown from './Dropdown';\r\nimport { saveAsPdf, saveAsMultiPagePdf } from '../utils';\r\n\r\nconst PrintDialog = () => {\r\n  const { t } = useTranslation();\r\n  const pageContext = useContext(PageContext);\r\n  const { pageRef, panZoomRef, isPrintDialogOpen, setPrintDialogOpen } = pageContext;\r\n\r\n  const printTypes = [\r\n    { key: 'unconstrained', value: `${t('printDialog.printType.types.unconstrained')}` },\r\n    { key: 'fitInA4', value: `${t('printDialog.printType.types.fitInA4')}` },\r\n    { key: 'multiPageA4', value: `${t('printDialog.printType.types.multiPageA4')}` },\r\n  ];\r\n\r\n  const [quality, setQuality] = useState(80);\r\n  const [type, setType] = useState(printTypes[0].key);\r\n\r\n  return (\r\n    <div\r\n      className={`absolute inset-0 transition-all duration-200 ease-in-out ${\r\n        isPrintDialogOpen ? 'opacity-100 z-20' : 'opacity-0 z-0'\r\n      }`}\r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.25)' }}\r\n      onClick={() => {\r\n        setPrintDialogOpen(false);\r\n      }}\r\n    >\r\n      <div\r\n        className=\"centered py-8 px-12 bg-white shadow-xl rounded w-full md:w-1/3\"\r\n        onClick={e => {\r\n          e.stopPropagation();\r\n          e.preventDefault();\r\n        }}\r\n      >\r\n        <h5 className=\"mb-6 text-lg font-bold\">{t('printDialog.heading')}</h5>\r\n\r\n        <h6 className=\"mb-1 text-sm font-medium\">{t('printDialog.quality.label')}</h6>\r\n        <div className=\"flex items-center\">\r\n          <input\r\n            type=\"range\"\r\n            className=\"w-full h-4 my-2 rounded-full overflow-hidden appearance-none focus:outline-none bg-gray-400\"\r\n            value={quality}\r\n            onChange={e => setQuality(e.target.value)}\r\n            min=\"40\"\r\n            max=\"100\"\r\n            step=\"5\"\r\n          />\r\n\r\n          <h6 className=\"font-medium pl-5\">{quality}%</h6>\r\n        </div>\r\n\r\n        <h6 className=\"mt-4 mb-2 text-sm font-medium\">{t('printDialog.printType.label')}</h6>\r\n        <Dropdown\r\n          value={type}\r\n          options={printTypes}\r\n          onChange={setType}\r\n          optionItem={x => (\r\n            <option key={x.key} value={x.key}>\r\n              {x.value}\r\n            </option>\r\n          )}\r\n        />\r\n\r\n        <p className=\"my-3 text-xs text-gray-600\">{t('printDialog.helpText.0')}</p>\r\n        <p className=\"my-3 text-xs text-gray-600\">{t('printDialog.helpText.1')}</p>\r\n\r\n        <div className=\"flex justify-between\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => {\r\n              setPrintDialogOpen(false);\r\n            }}\r\n            className=\"mt-6 border border-red-600 text-red-600 hover:bg-red-600 hover:text-white text-sm font-medium py-2 px-5 rounded\"\r\n          >\r\n            <div className=\"flex justify-center items-center\">\r\n              <i className=\"material-icons mr-2 font-bold text-base\">close</i>\r\n              <span className=\"text-sm\">{t('printDialog.buttons.cancel')}</span>\r\n            </div>\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            onClick={async () => {\r\n              await (type === 'multiPageA4'\r\n                ? saveAsMultiPagePdf(pageRef, panZoomRef, quality)\r\n                : saveAsPdf(pageRef, panZoomRef, quality, type));\r\n              setPrintDialogOpen(false);\r\n            }}\r\n            className=\"mt-6 border border-gray-700 text-gray-700 hover:bg-gray-700 hover:text-white text-sm font-medium py-2 px-5 rounded\"\r\n          >\r\n            <div className=\"flex justify-center items-center\">\r\n              <i className=\"material-icons mr-2 font-bold text-base\">save</i>\r\n              <span className=\"text-sm\">{t('printDialog.buttons.saveAsPdf')}</span>\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrintDialog;\r\n"]},"metadata":{},"sourceType":"module"}